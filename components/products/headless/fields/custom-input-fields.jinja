{#
  Custom Input Fields - Orchestrator
  Routes to appropriate field component based on type.
  See docs/headless/custom-input-fields.md for full documentation.

  Parameters:
    - product (object): Product with custom_input_fields array
#}

{% if product.custom_input_fields %}
  {% if not product.has_variants %}
    <input
      id="product-parent-id"
      type="hidden"
      value="{{ product.id }}"
    />
  {% endif %}

  {% for custom_field in product.custom_input_fields %}
    <div class="custom-field-wrapper">
      {% if custom_field.type == 'CHECKBOX' %}
        {% with custom_field=custom_field %}
          {% include 'vitrin:v2/products/fields/custom_field_checkbox.jinja' %}
        {% endwith %}
      {% elif custom_field.type == 'DROPDOWN' %}
        {% with custom_field=custom_field %}
          {% include 'vitrin:v2/products/fields/custom_field_dropdown.jinja' %}
        {% endwith %}
      {% elif custom_field.type == 'FILE' or custom_field.type == 'IMAGE' %}
        {% with custom_field=custom_field %}
          {% include 'vitrin:v2/products/fields/custom_field_file.jinja' %}
        {% endwith %}
      {% elif custom_field.configs and custom_field.configs.is_multiline %}
        {% with custom_field=custom_field %}
          {% include 'vitrin:v2/products/fields/custom_field_textarea.jinja' %}
        {% endwith %}
      {% else %}
        {% with custom_field=custom_field %}
          {% include 'vitrin:v2/products/fields/custom_field_text.jinja' %}
        {% endwith %}
      {% endif %}
    </div>
  {% endfor %}
{% endif %}
